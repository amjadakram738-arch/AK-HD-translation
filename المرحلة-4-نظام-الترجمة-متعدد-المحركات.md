# 01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md
**ุงูุชุจุนูุงุช:** ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/SUCCESS_METRICS_PHASE3.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุงุฌูุฉ `ITranslationEngine` ุงูููุญุฏุฉ ุงูุชู ุชู ุชุนุฑูููุง ูู ุงููุฑุญูุฉ 3ุ ูุงูุชู ุณุชููู ุงูุนูุฏ ุงูุจุฑูุฌู ูุฌููุน ูุญุฑูุงุช ุงูุชุฑุฌูุฉ ุงูุณุญุงุจูุฉ ูุงููุญููุฉ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ูุจูู ุชุณูููุงุช ุงููุฑุญูุฉ 3ุ ููุฌูุฏ ุงูุฃููุงุน ุงูููุญุฏุฉ ูู `src/types/common.ts`.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/SUCCESS_METRICS_PHASE3.md` - ููุซู ููุทุฉ ุงูุจุฏุงูุฉ ูููุฑุญูุฉ 4.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/03-ุชููุฆุฉ-ูุธุงู-ุงูุฃููุงุน-ุงูููุญุฏุฉ.md` - ูุญุชูู ุนูู ุชุนุฑูู `ITranslationEngine`.

### ุงููููุงุช ุงููุงุญูุฉ  
- `02-ุชูููุฐ-ูุญูู-Google-Translate.md` - ุฃูู ูุญุฑู ุณูุชู ุชูููุฐู.
- `03-ุชูููุฐ-ูุญูู-DeepL.md` - ุซุงูู ูุญุฑู ุณูุชู ุชูููุฐู.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ูุฑุงุฌุนุฉ ูุงุฌูุฉ `ITranslationEngine`
**ุงููุตู:** ุงูุชุฃูุฏ ูู ุฃู ุงููุงุฌูุฉ ุชุบุทู ุฌููุน ุงููุชุทูุจุงุช ุงููุธูููุฉ (FR2.0) ูุบูุฑ ุงููุธูููุฉ (NFR1.0) ุงููุชุนููุฉ ุจุงูุชุฑุฌูุฉ.

```typescript
// src/types/common.ts (ููุชุทู)
export interface ITranslationEngine {
  id: string; // ูุนุฑู ุงููุญุฑู (ูุซู 'google', 'deepl')
  name: string; // ุงุณู ุงููุญุฑู (ูุซู 'Google Translate')
  translate(request: TranslationRequest): Promise<TranslationResult>;
}

export interface TranslationRequest {
  text: string;
  sourceLang: LanguageCode;
  targetLang: LanguageCode;
  requestId: string;
  engineId: string; // ุชู ุฅุถุงูุชู ููููู ุฌุฒุกูุง ูู ุงูุทูุจ
}

export interface TranslationResult {
  originalText: string;
  translatedText: string;
  engineId: string;
  latency: number; // ุฒูู ุงูุงุณุชุฌุงุจุฉ (NFR1.0)
}
```

### 2. ุฅูุดุงุก ูุฌูุฏ ุงููุญููุงุช (Adapters)
**ุงููุตู:** ุฅูุดุงุก ูุฌูุฏ `src/core/adapters` ููุถุน ุฌููุน ุชุทุจููุงุช `ITranslationEngine` ููู.

### 3. ุชุทุจูู ุงููุงุฌูุฉ ุงูุฃุณุงุณู
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ ุฃุณุงุณูุฉ ูุฌุฑุฏุฉ (Abstract Base Class) ูุชุณููู ุชูููุฐ ุงููุญููุงุช ุงูุฃุฎุฑู.

```typescript
// src/core/adapters/BaseTranslationAdapter.ts
import { ITranslationEngine, TranslationRequest, TranslationResult } from '../../types/common';

export abstract class BaseTranslationAdapter implements ITranslationEngine {
  abstract id: string;
  abstract name: string;

  // ูุฌุจ ุนูู ูู ูุญูู ุชูููุฐ ูุฐู ุงูุฏุงูุฉ
  abstract translate(request: TranslationRequest): Promise<TranslationResult>;

  protected async fetchTranslation(url: string, options: RequestInit): Promise<TranslationResult> {
    const startTime = Date.now();
    try {
      const response = await fetch(url, options);
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      const data = await response.json();
      const endTime = Date.now();
      
      // ูุฌุจ ุนูู ูู ูุญูู ุงุณุชุฎุฑุงุฌ ุงููุต ุงููุชุฑุฌู ูู ุงูุฑุฏ
      const translatedText = this.extractTranslatedText(data); 

      return {
        originalText: '', // ุณูุชู ุชุนูููู ูุงุญููุง
        translatedText: translatedText,
        engineId: this.id,
        latency: endTime - startTime,
      };
    } catch (error) {
      // ุงุณุชุฎุฏุงู ErrorManager
      throw error;
    }
  }

  protected abstract extractTranslatedText(data: any): string;
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงููุงุฌูุฉ ูุงููุฆุฉ ุงูุฃุณุงุณูุฉ ูุถูุงู ุฃู ุฌููุน ูุญุฑูุงุช ุงูุชุฑุฌูุฉ ุชุชุจุน ููุณ ุงูุนูุฏ ุงูุจุฑูุฌูุ ููุง ูุณูู ุนูู `TranslationOrchestrator` ุงูุชุจุฏูู ุจูููุง.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `TranslationOrchestrator` ูุณุชุฏุนู `engine.translate(request)` ุฏูู ุงูุญุงุฌุฉ ููุนุฑูุฉ ุชูุงุตูู ุงููุญุฑู ุงูุฏุงุฎูู.
*   **ุญุงูุฉ 2:** ูุชู ุฅุถุงูุฉ ูุญุฑู ุชุฑุฌูุฉ ุฌุฏูุฏุ ููุชู ุชูููุฐู ุนู ุทุฑูู ูุฑุงุซุฉ `BaseTranslationAdapter`.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 02-ุชูููุฐ-ูุญูู-Google-Translate

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/02-ุชูููุฐ-ูุญูู-Google-Translate.md
**ุงูุชุจุนูุงุช:** 01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญูู Google Translate (`GoogleTranslateAdapter`) ุงูุฐู ูุทุจู ูุงุฌูุฉ `ITranslationEngine` ููุณุชุฎุฏู Google Cloud Translation API ูุชูููุฐ ุนูููุฉ ุงูุชุฑุฌูุฉ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` ูุชูููุฑ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ `BaseTranslationAdapter`.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` - ูููุฑ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ `BaseTranslationAdapter`.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/07-ุชูููุฐ-ูุญุฏุฉ-ุงูุฃูุงู-ูุงูุฎุตูุตูุฉ.md` - ูุชูููุฑ ูู ุชุดููุฑ ููุชุงุญ API.

### ุงููููุงุช ุงููุงุญูุฉ  
- `03-ุชูููุฐ-ูุญูู-DeepL.md` - ูุชูููุฐ ูุญูู ุขุฎุฑ.
- `04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md` - ูุชูููุฐ ูุญูู ุงูุชุฎุฒูู ุงููุคูุช.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `GoogleTranslateAdapter`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `GoogleTranslateAdapter` ูู `src/core/adapters/GoogleTranslateAdapter.ts` ุชุฑุซ ูู `BaseTranslationAdapter`.

```typescript
// src/core/adapters/GoogleTranslateAdapter.ts
import { BaseTranslationAdapter } from './BaseTranslationAdapter';
import { TranslationRequest, TranslationResult } from '../../types/common';
import { SecurityManager } from '../managers/SecurityManager'; // ุงูุชุฑุงุถ ูุฌูุฏู

export class GoogleTranslateAdapter extends BaseTranslationAdapter {
  id = 'google';
  name = 'Google Translate';

  async translate(request: TranslationRequest): Promise<TranslationResult> {
    // 1. ุฌูุจ ููุชุงุญ API ุงููุดูุฑ ูู SettingsManager
    const encryptedApiKey = '...'; // ูุชู ุฌูุจู ูู SettingsManager
    // 2. ูู ุชุดููุฑ ููุชุงุญ API ุจุงุณุชุฎุฏุงู SecurityManager
    const apiKey = await SecurityManager.decrypt(encryptedApiKey);

    const url = `https://translation.googleapis.com/language/translate/v2?key=${apiKey}`;
    const body = {
      q: request.text,
      source: request.sourceLang,
      target: request.targetLang,
      format: 'text',
    };

    const options: RequestInit = {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body),
    };

    const result = await this.fetchTranslation(url, options);
    return { ...result, originalText: request.text, engineId: this.id };
  }

  protected extractTranslatedText(data: any): string {
    // ููุทู ุงุณุชุฎุฑุงุฌ ุงููุต ุงููุชุฑุฌู ูู ุงุณุชุฌุงุจุฉ Google API
    try {
      return data.data.translations[0].translatedText;
    } catch (e) {
      throw new Error('Failed to parse Google Translate response.');
    }
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู `GoogleTranslateAdapter` ูุชูููุฐ ุงูุชุฑุฌูุฉ ุงููุนููุฉ ุนุจุฑ Google APIุ ูุน ุถูุงู ุฃู ููุชุงุญ API ูุชู ูู ุชุดููุฑู ููุท ุนูุฏ ุงูุญุงุฌุฉ ุฅููู ุฏุงุฎู `Service Worker` ูุชุนุฒูุฒ ุงูุฃูุงู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `TranslationOrchestrator` ูุทูุจ ุงูุชุฑุฌูุฉ ุจุงุณุชุฎุฏุงู ูุญุฑู Googleุ ููููู ูุฐุง ุงููุญูู ุจุชูููุฐ ุงูุทูุจ.
*   **ุญุงูุฉ 2:** ุฅุฐุง ูุงู ููุชุงุญ API ุบูุฑ ุตุงูุญุ ูุชู ุฅุทูุงู ุฎุทุฃ ูุชู ุงูุชูุงุทู ุจูุงุณุทุฉ `ErrorManager`.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 03-ุชูููุฐ-ูุญูู-DeepL

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/03-ุชูููุฐ-ูุญูู-DeepL.md
**ุงูุชุจุนูุงุช:** 02-ุชูููุฐ-ูุญูู-Google-Translate.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญูู DeepL (`DeepLAdapter`) ุงูุฐู ูุทุจู ูุงุฌูุฉ `ITranslationEngine` ููุณุชุฎุฏู DeepL API ูุชูููุฐ ุนูููุฉ ุงูุชุฑุฌูุฉุ ููุง ูููุฑ ุฎูุงุฑูุง ุนุงูู ุงูุฌูุฏุฉ ููุชุฑุฌูุฉ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `02-ุชูููุฐ-ูุญูู-Google-Translate.md` (ููุชุณูุณู)ุ ู `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` ูุชูููุฑ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` - ูููุฑ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ `BaseTranslationAdapter`.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/07-ุชูููุฐ-ูุญุฏุฉ-ุงูุฃูุงู-ูุงูุฎุตูุตูุฉ.md` - ูุชูููุฑ ูู ุชุดููุฑ ููุชุงุญ API.

### ุงููููุงุช ุงููุงุญูุฉ  
- `04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md` - ูุชูููุฐ ูุญูู ุงูุชุฎุฒูู ุงููุคูุช.
- `05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `DeepLAdapter`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `DeepLAdapter` ูู `src/core/adapters/DeepLAdapter.ts` ุชุฑุซ ูู `BaseTranslationAdapter`.

```typescript
// src/core/adapters/DeepLAdapter.ts
import { BaseTranslationAdapter } from './BaseTranslationAdapter';
import { TranslationRequest, TranslationResult } from '../../types/common';
import { SecurityManager } from '../managers/SecurityManager'; // ุงูุชุฑุงุถ ูุฌูุฏู

export class DeepLAdapter extends BaseTranslationAdapter {
  id = 'deepl';
  name = 'DeepL Translator';

  async translate(request: TranslationRequest): Promise<TranslationResult> {
    // 1. ุฌูุจ ููุชุงุญ API ุงููุดูุฑ ูู SettingsManager
    const encryptedApiKey = '...'; // ูุชู ุฌูุจู ูู SettingsManager
    // 2. ูู ุชุดููุฑ ููุชุงุญ API ุจุงุณุชุฎุฏุงู SecurityManager
    const apiKey = await SecurityManager.decrypt(encryptedApiKey);

    const url = `https://api.deepl.com/v2/translate`;
    const body = {
      text: [request.text],
      source_lang: request.sourceLang.toUpperCase(),
      target_lang: request.targetLang.toUpperCase(),
    };

    const options: RequestInit = {
      method: 'POST',
      headers: {
        'Authorization': `DeepL-Auth-Key ${apiKey}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(body),
    };

    const result = await this.fetchTranslation(url, options);
    return { ...result, originalText: request.text, engineId: this.id };
  }

  protected extractTranslatedText(data: any): string {
    // ููุทู ุงุณุชุฎุฑุงุฌ ุงููุต ุงููุชุฑุฌู ูู ุงุณุชุฌุงุจุฉ DeepL API
    try {
      return data.translations[0].text;
    } catch (e) {
      throw new Error('Failed to parse DeepL response.');
    }
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู `DeepLAdapter` ูุชูููุฐ ุงูุชุฑุฌูุฉ ุงููุนููุฉ ุนุจุฑ DeepL APIุ ููุง ููุณุน ุฎูุงุฑุงุช ุงูุชุฑุฌูุฉ ุงููุชุงุญุฉ ูููุณุชุฎุฏู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `SmartEngineSelector` ูุฎุชุงุฑ DeepL ุจูุงุกู ุนูู ุชูุถููุงุช ุงููุณุชุฎุฏู ุฃู ุฌูุฏุฉ ุงูุชุฑุฌูุฉ ููุบุฉ ูุนููุฉ.
*   **ุญุงูุฉ 2:** ูุชู ุงุณุชุฎุฏุงู DeepL ูุฎูุงุฑ ุงุญุชูุงุทู ุฅุฐุง ูุดู Google Translate.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md
**ุงูุชุจุนูุงุช:** 03-ุชูููุฐ-ูุญูู-DeepL.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญูู ุงูุชุฎุฒูู ุงููุคูุช (`CacheAdapter`) ุงูุฐู ูุทุจู ูุงุฌูุฉ `ITranslationEngine`ุ ูุธููุชู ุงูุฃุณุงุณูุฉ ูู ุงูุชุญูู ูู ูุฌูุฏ ุงูุชุฑุฌูุฉ ุงููุทููุจุฉ ูู ุงูุชุฎุฒูู ุงููุญูู ูุจู ุฅุฑุณุงู ุงูุทูุจ ุฅูู ุงููุญุฑูุงุช ุงูุณุญุงุจูุฉ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `03-ุชูููุฐ-ูุญูู-DeepL.md` (ููุชุณูุณู)ุ ู `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` ูุชูููุฑ ุงููุงุฌูุฉ.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` - ูููุฑ ุงููุงุฌูุฉ `ITranslationEngine`.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/05-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุชุฎุฒูู.md` - ูุชูููุฑ ูุธุงุฆู ุงูุชุฎุฒูู ุงููุญูู.

### ุงููููุงุช ุงููุงุญูุฉ  
- `05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md` - ูุชูููุฐ ุงูุชุฑุฌูุฉ ุงููุญููุฉ ุงููุนููุฉ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `CacheAdapter`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `CacheAdapter` ูู `src/core/adapters/CacheAdapter.ts` ุงูุชู ุชุทุจู `ITranslationEngine`.

```typescript
// src/core/adapters/CacheAdapter.ts
import { ITranslationEngine, TranslationRequest, TranslationResult } from '../../types/common';
import { StorageManager } from '../managers/StorageManager'; // ุงูุชุฑุงุถ ูุฌูุฏู

export class CacheAdapter implements ITranslationEngine {
  id = 'cache';
  name = 'Local Cache';
  private storageManager: StorageManager;

  constructor(storageManager: StorageManager) {
    this.storageManager = storageManager;
  }

  async translate(request: TranslationRequest): Promise<TranslationResult | null> {
    const cacheKey = this.generateCacheKey(request);
    const cachedResult = await this.storageManager.getTranslation(cacheKey);

    if (cachedResult) {
      // 1. ุฅุฐุง ูุฌุฏุช ุงููุชูุฌุฉ ูู ุงูุชุฎุฒูู ุงููุคูุช
      return {
        originalText: request.text,
        translatedText: cachedResult.translatedText,
        engineId: this.id,
        latency: 0, // ุฒูู ุงุณุชุฌุงุจุฉ ููุฑู
      };
    }

    // 2. ุฅุฐุง ูู ุชูุฌุฏุ ุฅุฑุฌุงุน null ููุฅุดุงุฑุฉ ุฅูู ุถุฑูุฑุฉ ุงุณุชุฎุฏุงู ูุญุฑู ุขุฎุฑ
    return null;
  }

  async saveTranslation(request: TranslationRequest, result: TranslationResult): Promise<void> {
    const cacheKey = this.generateCacheKey(request);
    await this.storageManager.saveTranslation(cacheKey, result);
  }

  private generateCacheKey(request: TranslationRequest): string {
    // ุฅูุดุงุก ููุชุงุญ ูุฑูุฏ ุจูุงุกู ุนูู ุงููุต ูุงููุบุงุช
    return `${request.sourceLang}:${request.targetLang}:${request.text}`;
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ูุถุน `CacheAdapter` ูู ููุฏูุฉ ุณูุณูุฉ ูุญุฑูุงุช ุงูุชุฑุฌูุฉ. ุฅุฐุง ูุงูุช ุงูุชุฑุฌูุฉ ููุฌูุฏุฉุ ูุชู ุชูููุฑูุง ุนูู ุงูููุฑ (NFR1.0 - ุงูุฃุฏุงุก). ุฅุฐุง ูู ุชูู ููุฌูุฏุฉุ ูุชู ุชูุฑูุฑ ุงูุทูุจ ุฅูู ุงููุญุฑูุงุช ุงูุณุญุงุจูุฉุ ููุชู ุญูุธ ุงููุชูุฌุฉ ูู ุงูุชุฎุฒูู ุงููุคูุช ูุงุญููุง.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ูุชู ุชูุฑุงุฑ ููุณ ุงูุฌููุฉ ูู ุงูููุฏููุ ููููู `CacheAdapter` ุจุชูููุฑ ุงูุชุฑุฌูุฉ ููุฑูุง ุฏูู ุงุณุชุฏุนุงุก API.
*   **ุญุงูุฉ 2:** ูุชู ุงุณุชุฎุฏุงู `CacheAdapter.saveTranslation()` ุจูุงุณุทุฉ `TranslationOrchestrator` ุจุนุฏ ุงูุญุตูู ุนูู ูุชูุฌุฉ ูู ูุญุฑู ุณุญุงุจู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md
**ุงูุชุจุนูุงุช:** 04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญูู ุงูุชุฎุฒูู ุงููุคูุช ููุชุงุฆุฌ ุงูุชุนุฑู ุนูู ุงูููุงู (`STTCacheAdapter`)ุ ูุชูููู ุงูุงุนุชูุงุฏ ุนูู ูุญุฑูุงุช STT ุงูุณุญุงุจูุฉ ูุชูููู ุฒูู ุงูุงุณุชุฌุงุจุฉ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/05-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุชุฎุฒูู.md` ูุชูููุฑ ูุธุงุฆู ุงูุชุฎุฒูู ุงููุญูู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/05-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุชุฎุฒูู.md` - ูุชูููุฑ ูุธุงุฆู ุงูุชุฎุฒูู ุงููุญูู.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุนุฑู-ุนูู-ุงูููุงู.md` - ุชุณุชุฎุฏู ูุฐู ุงููุญุฏุฉ ูุญููุงุช STT.

### ุงููููุงุช ุงููุงุญูุฉ  
- `06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md` - ูุชูููุฐ ุงูุชุฑุฌูุฉ ุงููุญููุฉ ุงููุนููุฉ.
- `07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md` - ูุชูููุฐ STT ุงููุญูู ุงููุนูู.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `STTCacheAdapter`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `STTCacheAdapter` ูู `src/core/adapters/STTCacheAdapter.ts` ุงูุชู ุชุทุจู ูุงุฌูุฉ `ISTTEngine` (ุงูุชุฑุงุถ ูุฌูุฏูุง ูู `src/types/common.ts`).

```typescript
// src/core/adapters/STTCacheAdapter.ts
import { ISTTEngine, AudioSegment, STTResult } from '../../types/common';
import { StorageManager } from '../managers/StorageManager'; // ุงูุชุฑุงุถ ูุฌูุฏู

export class STTCacheAdapter implements ISTTEngine {
  id = 'stt-cache';
  name = 'Local STT Cache';
  private storageManager: StorageManager;

  constructor(storageManager: StorageManager) {
    this.storageManager = storageManager;
  }

  async process(audioSegment: AudioSegment): Promise<STTResult | null> {
    const cacheKey = this.generateCacheKey(audioSegment);
    const cachedResult = await this.storageManager.getSTTResult(cacheKey);

    if (cachedResult) {
      // 1. ุฅุฐุง ูุฌุฏุช ุงููุชูุฌุฉ ูู ุงูุชุฎุฒูู ุงููุคูุช
      return {
        text: cachedResult.text,
        engineId: this.id,
        latency: 0, // ุฒูู ุงุณุชุฌุงุจุฉ ููุฑู
        requestId: cachedResult.requestId,
      };
    }

    // 2. ุฅุฐุง ูู ุชูุฌุฏุ ุฅุฑุฌุงุน null ููุฅุดุงุฑุฉ ุฅูู ุถุฑูุฑุฉ ุงุณุชุฎุฏุงู ูุญุฑู ุขุฎุฑ
    return null;
  }

  async saveSTTResult(audioSegment: AudioSegment, result: STTResult): Promise<void> {
    const cacheKey = this.generateCacheKey(audioSegment);
    await this.storageManager.saveSTTResult(cacheKey, result);
  }

  private generateCacheKey(audioSegment: AudioSegment): string {
    // ุฅูุดุงุก ููุชุงุญ ูุฑูุฏ ุจูุงุกู ุนูู ุชุฌุฒุฆุฉ (Hash) ุงูุจูุงูุงุช ุงูุซูุงุฆูุฉ ููุตูุช
    // ูุชุทูุจ ุงุณุชุฎุฏุงู ูุญุฏุฉ ูุณุงุนุฏุฉ ูุฅูุดุงุก ุงูุชุฌุฒุฆุฉ (ูุซู SHA-256)
    // ูุคูุชูุงุ ูุณุชุฎุฏู ุทูู ุงูุจูุงูุงุช ูุฌุฒุก ูู ุงูููุชุงุญ
    return `stt-cache:${audioSegment.data.byteLength}:${audioSegment.language}`;
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ูุถุน `STTCacheAdapter` ูู ููุฏูุฉ ุณูุณูุฉ ูุญุฑูุงุช STT. ุฅุฐุง ุชู ุงูุชุนุฑู ุนูู ููุณ ุงูููุทุน ุงูุตูุชู ูุณุจููุงุ ูุชู ุชูููุฑ ุงููุชูุฌุฉ ุนูู ุงูููุฑ.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ูุชู ุชูุฑุงุฑ ููุณ ุงูููุทุน ุงูุตูุชู (ูุซู ุนุจุงุฑุฉ ุชุฑุญูุจ)ุ ููููู `STTCacheAdapter` ุจุชูููุฑ ุงููุต ุงููุนุชุฑู ุจู ููุฑูุง.
*   **ุญุงูุฉ 2:** ูุชู ุงุณุชุฎุฏุงู `STTCacheAdapter.saveSTTResult()` ุจูุงุณุทุฉ `STTUnit` ุจุนุฏ ุงูุญุตูู ุนูู ูุชูุฌุฉ ูู ูุญุฑู STT ุณุญุงุจู ุฃู ูุญูู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md
**ุงูุชุจุนูุงุช:** 05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญูู ุงูุชุฑุฌูุฉ ุงููุญููุฉ (`OfflineTranslationAdapter`) ุงูุฐู ูุทุจู ูุงุฌูุฉ `ITranslationEngine`ุ ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุชุฑุฌูุฉ ุขูู ุนุตุจู (NMT) ุฎููู ุงููุฒู ูุนูู ุนุจุฑ WebAssembly (WASM) ุฃู ุชูููุฉ ููุงุซูุฉุ ูุชูููุฑ ุงูุชุฑุฌูุฉ ุฏูู ุงุชุตุงู ุจุงูุฅูุชุฑูุช (FR3.0).

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md` (ููุชุณูุณู)ุ ู `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` ูุชูููุฑ ุงููุงุฌูุฉ.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` - ูููุฑ ุงููุงุฌูุฉ `ITranslationEngine`.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/08-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูููุงุฑุฏ.md` - ูุชุญููู ูููุฐุฌ ุงูุชุฑุฌูุฉ ุงููุญูู.

### ุงููููุงุช ุงููุงุญูุฉ  
- `07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md` - ูุชูููุฐ STT ุงููุญูู ุงููุนูู.
- `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` - ูุชูุธูู ุงููุญููุงุช.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `OfflineTranslationAdapter`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `OfflineTranslationAdapter` ูู `src/core/adapters/OfflineTranslationAdapter.ts` ุชุฑุซ ูู `BaseTranslationAdapter`.

```typescript
// src/core/adapters/OfflineTranslationAdapter.ts
import { BaseTranslationAdapter } from './BaseTranslationAdapter';
import { TranslationRequest, TranslationResult } from '../../types/common';
import { ResourceManager } from '../managers/ResourceManager'; // ุงูุชุฑุงุถ ูุฌูุฏู

export class OfflineTranslationAdapter extends BaseTranslationAdapter {
  id = 'offline';
  name = 'Offline NMT Engine';
  private model: any = null; // ูููุฐุฌ ุงูุชุฑุฌูุฉ ุงููุญูู (WASM/TensorFlow.js)

  constructor(private resourceManager: ResourceManager) {
    super();
  }

  async init(): Promise<void> {
    // 1. ุชุญููู ูููุฐุฌ ุงูุชุฑุฌูุฉ ุงููุญูู ุจุงุณุชุฎุฏุงู ResourceManager
    const modelPath = 'resources/nmt_model.wasm';
    const modelData = await this.resourceManager.loadResource(modelPath);
    // 2. ุชููุฆุฉ ุงููููุฐุฌ (ูุซู ุชุญููู TensorFlow.js ุฃู WASM)
    this.model = this.initializeModel(modelData);
  }

  async translate(request: TranslationRequest): Promise<TranslationResult> {
    if (!this.model) {
      throw new Error('Offline model not initialized.');
    }

    const startTime = Date.now();
    // 1. ุชูููุฐ ุงูุชุฑุฌูุฉ ุจุงุณุชุฎุฏุงู ุงููููุฐุฌ ุงููุญูู
    const translatedText = await this.model.run(request.text, request.sourceLang, request.targetLang);
    const endTime = Date.now();

    return {
      originalText: request.text,
      translatedText: translatedText,
      engineId: this.id,
      latency: endTime - startTime,
    };
  }

  protected extractTranslatedText(data: any): string {
    // ูุง ููุทุจู ุนูู ูุฐุง ุงููุญูู
    return '';
  }

  private initializeModel(data: any): any {
    // ููุทู ุชููุฆุฉ ูููุฐุฌ WASM ุฃู TensorFlow.js
    return {
      run: (text: string, src: string, trg: string) => `[Offline Translation of: ${text}]`,
    };
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู `OfflineTranslationAdapter` ูุชูููุฑ ุฎูุงุฑ ุชุฑุฌูุฉ ุณุฑูุน ูููุซูู ุนูุฏูุง ูููู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ุบูุฑ ูุชุงุญ ุฃู ุถุนููุ ููุง ูุญุณู ูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX).

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ุงููุณุชุฎุฏู ูููุฏ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุชุ ููููู `SmartEngineSelector` ุจุงูุชุจุฏูู ุฅูู ูุฐุง ุงููุญูู.
*   **ุญุงูุฉ 2:** ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงููุญูู ูุฎูุงุฑ ุงูุชุฑุงุถู ููุชุฑุฌูุงุช ุงูุจุณูุทุฉ ูุงูุณุฑูุนุฉ ูุชูููู ุชูุงููู API.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md
**ุงูุชุจุนูุงุช:** 06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญูู ุงูุชุนุฑู ุนูู ุงูููุงู ุงููุญูู (`OfflineSTTAdapter`) ุงูุฐู ูุทุจู ูุงุฌูุฉ `ISTTEngine`ุ ุจุงุณุชุฎุฏุงู ูููุฐุฌ Whisper ุฎููู ุงููุฒู ูุนูู ุนุจุฑ WebAssembly (WASM) ูุชูููุฑ STT ุฏูู ุงุชุตุงู ุจุงูุฅูุชุฑูุช.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุนุฑู-ุนูู-ุงูููุงู.md` ูุชูููุฑ ุงููุงุฌูุฉ.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุนุฑู-ุนูู-ุงูููุงู.md` - ูููุฑ ุงููุงุฌูุฉ `ISTTEngine`.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/08-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูููุงุฑุฏ.md` - ูุชุญููู ูููุฐุฌ STT ุงููุญูู.

### ุงููููุงุช ุงููุงุญูุฉ  
- `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` - ูุชูุธูู ุงููุญููุงุช.
- `09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md` - ูุชูุธูู ูุญููุงุช STT.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `OfflineSTTAdapter`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `OfflineSTTAdapter` ูู `src/core/adapters/OfflineSTTAdapter.ts` ุงูุชู ุชุทุจู `ISTTEngine`.

```typescript
// src/core/adapters/OfflineSTTAdapter.ts
import { ISTTEngine, AudioSegment, STTResult } from '../../types/common';
import { ResourceManager } from '../managers/ResourceManager'; // ุงูุชุฑุงุถ ูุฌูุฏู

export class OfflineSTTAdapter implements ISTTEngine {
  id = 'offline-stt';
  name = 'Offline Whisper Engine';
  private model: any = null; // ูููุฐุฌ Whisper ุงููุญูู (WASM)

  constructor(private resourceManager: ResourceManager) {
    // ุชููุฆุฉ ุงููููุฐุฌ
  }

  async init(): Promise<void> {
    // 1. ุชุญููู ูููุฐุฌ STT ุงููุญูู ุจุงุณุชุฎุฏุงู ResourceManager
    const modelPath = 'resources/whisper_model.wasm';
    const modelData = await this.resourceManager.loadResource(modelPath);
    // 2. ุชููุฆุฉ ุงููููุฐุฌ (ูุซู ุชุญููู WASM)
    this.model = this.initializeModel(modelData);
  }

  async process(audioSegment: AudioSegment): Promise<STTResult> {
    if (!this.model) {
      throw new Error('Offline STT model not initialized.');
    }

    const startTime = Date.now();
    // 1. ุชูููุฐ ุงูุชุนุฑู ุนูู ุงูููุงู ุจุงุณุชุฎุฏุงู ุงููููุฐุฌ ุงููุญูู
    const recognizedText = await this.model.recognize(audioSegment.data);
    const endTime = Date.now();

    return {
      text: recognizedText,
      engineId: this.id,
      latency: endTime - startTime,
      requestId: audioSegment.requestId,
    };
  }

  private initializeModel(data: any): any {
    // ููุทู ุชููุฆุฉ ูููุฐุฌ WASM
    return {
      recognize: (audioData: ArrayBuffer) => `[Offline STT of ${audioData.byteLength} bytes]`,
    };
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู `OfflineSTTAdapter` ูุชูููุฑ ุฎูุงุฑ STT ุณุฑูุน ูููุซูู ุนูุฏูุง ูููู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ุบูุฑ ูุชุงุญ ุฃู ุถุนููุ ููุง ูุญุณู ูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX).

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ุงููุณุชุฎุฏู ูููุฏ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุชุ ููููู `STTUnit` ุจุงูุชุจุฏูู ุฅูู ูุฐุง ุงููุญูู.
*   **ุญุงูุฉ 2:** ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงููุญูู ูุฎูุงุฑ ุงูุชุฑุงุถู ูุชูููู ุชูุงููู API.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md
**ุงูุชุจุนูุงุช:** 07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญุฏุฉ ุงูุชุญูู ูู ูุญุฑูุงุช ุงูุชุฑุฌูุฉ (`TranslationEngineController`) ุงูุชู ุชูุน ูู `Service Worker`ุ ููู ูุณุคููุฉ ุนู ุฅุฏุงุฑุฉ ุฌููุน ูุญููุงุช ุงูุชุฑุฌูุฉ (ุงูุณุญุงุจูุฉ ูุงููุญููุฉ ูุงูุชุฎุฒูู ุงููุคูุช) ูุชูููุฑ ูุงุฌูุฉ ููุญุฏุฉ ูู `TranslationOrchestrator`.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md` (ููุชุณูุณู)ุ ูุฌููุน ุงููุญููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูุฐู ุงููุฑุญูุฉ.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md` - ูุญูู ุงูุชุฎุฒูู ุงููุคูุช.
- `02-ุชูููุฐ-ูุญูู-Google-Translate.md` - ูุญูู Google.
- `03-ุชูููุฐ-ูุญูู-DeepL.md` - ูุญูู DeepL.
- `06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md` - ูุญูู ุงูุชุฑุฌูุฉ ุงููุญููุฉ.

### ุงููููุงุช ุงููุงุญูุฉ  
- `09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md` - ูุชูุธูู ูุญููุงุช STT.
- `10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md` - ูุชุญุฏูุซ `TranslationOrchestrator`.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `TranslationEngineController`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `TranslationEngineController` ูู `src/core/managers/TranslationEngineController.ts` ูุชุบููู ูุธุงุฆู ุฅุฏุงุฑุฉ ุงููุญุฑูุงุช.

```typescript
// src/core/managers/TranslationEngineController.ts
import { ITranslationEngine, TranslationRequest, TranslationResult } from '../../types/common';
import { CacheAdapter } from '../adapters/CacheAdapter';
import { GoogleTranslateAdapter } from '../adapters/GoogleTranslateAdapter';
import { DeepLAdapter } from '../adapters/DeepLAdapter';
import { OfflineTranslationAdapter } from '../adapters/OfflineTranslationAdapter';

class TranslationEngineController {
  private engines: Map<string, ITranslationEngine> = new Map();
  private cacheAdapter: CacheAdapter;

  constructor(deps: any) {
    // ุชููุฆุฉ ุงููุญููุงุช
    this.cacheAdapter = new CacheAdapter(deps.storageManager);
    this.engines.set(this.cacheAdapter.id, this.cacheAdapter);
    this.engines.set('google', new GoogleTranslateAdapter());
    this.engines.set('deepl', new DeepLAdapter());
    this.engines.set('offline', new OfflineTranslationAdapter(deps.resourceManager));
  }

  getEngine(engineId: string): ITranslationEngine | undefined {
    return this.engines.get(engineId);
  }

  async translate(request: TranslationRequest): Promise<TranslationResult> {
    // 1. ูุญุงููุฉ ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ุฃููุงู
    const cachedResult = await this.cacheAdapter.translate(request);
    if (cachedResult) {
      return cachedResult;
    }

    // 2. ุงุฎุชูุงุฑ ุงููุญุฑู ุงูุฃูุซู (ุจุงุณุชุฎุฏุงู SmartEngineSelector)
    const selectedEngineId = 'google'; // ุณูุชู ุงุณุชุจุฏุงูู ุจู SmartEngineSelector
    const engine = this.getEngine(selectedEngineId);

    if (!engine) {
      throw new Error(`Translation Engine ${selectedEngineId} not found.`);
    }

    // 3. ุชูููุฐ ุงูุชุฑุฌูุฉ
    const result = await engine.translate(request);

    // 4. ุญูุธ ุงููุชูุฌุฉ ูู ุงูุชุฎุฒูู ุงููุคูุช
    this.cacheAdapter.saveTranslation(request, result);

    return result;
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุนูู `TranslationEngineController` ูุทุจูุฉ ูุณูุทุฉ ุจูู `TranslationOrchestrator` ูุงููุญููุงุช ุงููุนููุฉุ ููุง ูุถูู ุชุทุจูู ููุทู ุงูุชุฎุฒูู ุงููุคูุช ูุจู ุฃู ุงุณุชุฏุนุงุก ุฎุงุฑุฌู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `TranslationOrchestrator` ูุณุชุฏุนู `controller.translate(request)`ุ ููููู ุงููุชุญูู ุจุชุทุจูู ููุทู ุงูุชุฎุฒูู ุงููุคูุช.
*   **ุญุงูุฉ 2:** ูุชู ุฅุถุงูุฉ ูุญุฑู ุชุฑุฌูุฉ ุฌุฏูุฏุ ููุชู ุฅุถุงูุชู ุฅูู `engines` ูู ุงููุชุญูู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md
**ุงูุชุจุนูุงุช:** 08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญุฏุฉ ุงูุชุญูู ูู ูุญุฑูุงุช ุงูุชุนุฑู ุนูู ุงูููุงู (`STTEngineController`) ุงูุชู ุชูุน ูู `Service Worker`ุ ููู ูุณุคููุฉ ุนู ุฅุฏุงุฑุฉ ุฌููุน ูุญููุงุช STT (ุงูุณุญุงุจูุฉ ูุงููุญููุฉ ูุงูุชุฎุฒูู ุงููุคูุช) ูุชูููุฑ ูุงุฌูุฉ ููุญุฏุฉ ูู `STTUnit`.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` (ููุชุณูุณู)ุ ูุฌููุน ูุญููุงุช STT ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูุฐู ุงููุฑุญูุฉ.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md` - ูุญูู ุงูุชุฎุฒูู ุงููุคูุช ูู STT.
- `07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md` - ูุญูู STT ุงููุญูู.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุนุฑู-ุนูู-ุงูููุงู.md` - ูุชู ุชุญุฏูุซ ูุฐู ุงููุญุฏุฉ ูุงุณุชุฎุฏุงู ุงููุชุญูู.

### ุงููููุงุช ุงููุงุญูุฉ  
- `10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md` - ูุชุญุฏูุซ `TranslationOrchestrator`.
- `11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `STTEngineController`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `STTEngineController` ูู `src/core/managers/STTEngineController.ts` ูุชุบููู ูุธุงุฆู ุฅุฏุงุฑุฉ ุงููุญุฑูุงุช.

```typescript
// src/core/managers/STTEngineController.ts
import { ISTTEngine, AudioSegment, STTResult } from '../../types/common';
import { STTCacheAdapter } from '../adapters/STTCacheAdapter';
import { GoogleSTTAdapter } from '../adapters/GoogleSTTAdapter'; // ุงูุชุฑุงุถ ูุฌูุฏู
import { OfflineSTTAdapter } from '../adapters/OfflineSTTAdapter';

class STTEngineController {
  private engines: Map<string, ISTTEngine> = new Map();
  private cacheAdapter: STTCacheAdapter;

  constructor(deps: any) {
    // ุชููุฆุฉ ุงููุญููุงุช
    this.cacheAdapter = new STTCacheAdapter(deps.storageManager);
    this.engines.set(this.cacheAdapter.id, this.cacheAdapter);
    this.engines.set('google', new GoogleSTTAdapter());
    this.engines.set('offline', new OfflineSTTAdapter(deps.resourceManager));
  }

  getEngine(engineId: string): ISTTEngine | undefined {
    return this.engines.get(engineId);
  }

  async processAudio(audioSegment: AudioSegment): Promise<STTResult> {
    // 1. ูุญุงููุฉ ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ุฃููุงู
    const cachedResult = await this.cacheAdapter.process(audioSegment);
    if (cachedResult) {
      return cachedResult;
    }

    // 2. ุงุฎุชูุงุฑ ุงููุญุฑู ุงูุฃูุซู (ุจูุงุกู ุนูู ุงูุฅุนุฏุงุฏุงุช ุฃู SmartEngineSelector)
    const selectedEngineId = 'google'; // ุณูุชู ุงุณุชุจุฏุงูู ุจู SmartEngineSelector
    const engine = this.getEngine(selectedEngineId);

    if (!engine) {
      throw new Error(`STT Engine ${selectedEngineId} not found.`);
    }

    // 3. ุชูููุฐ ุงูุชุนุฑู ุนูู ุงูููุงู
    const result = await engine.process(audioSegment);

    // 4. ุญูุธ ุงููุชูุฌุฉ ูู ุงูุชุฎุฒูู ุงููุคูุช
    this.cacheAdapter.saveSTTResult(audioSegment, result);

    return result;
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุนูู `STTEngineController` ูุทุจูุฉ ูุณูุทุฉ ุจูู `STTUnit` ูุงููุญููุงุช ุงููุนููุฉุ ููุง ูุถูู ุชุทุจูู ููุทู ุงูุชุฎุฒูู ุงููุคูุช ูุจู ุฃู ุงุณุชุฏุนุงุก ุฎุงุฑุฌู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `STTUnit` ูุณุชุฏุนู `controller.processAudio(segment)`ุ ููููู ุงููุชุญูู ุจุชุทุจูู ููุทู ุงูุชุฎุฒูู ุงููุคูุช.
*   **ุญุงูุฉ 2:** ูุชู ุฅุถุงูุฉ ูุญุฑู STT ุฌุฏูุฏุ ููุชู ุฅุถุงูุชู ุฅูู `engines` ูู ุงููุชุญูู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md
**ุงูุชุจุนูุงุช:** 09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุงูุชุฑุฌูุฉ ุงููุฑูุฒูุฉ (`TranslationOrchestrator`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ูุญุฏุงุช ุงูุชุญูู ุงูุฌุฏูุฏุฉ ูู ูุญุฑูุงุช ุงูุชุฑุฌูุฉ ู STT.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md` - ุงูุชูููุฐ ุงูุฃููู ูู `TranslationOrchestrator`.
- `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` - ูุญุฏุฉ ุงูุชุญูู ูู ูุญุฑูุงุช ุงูุชุฑุฌูุฉ.
- `09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md` - ูุญุฏุฉ ุงูุชุญูู ูู ูุญุฑูุงุช STT.

### ุงููููุงุช ุงููุงุญูุฉ  
- `11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `TranslationOrchestrator`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `TranslationOrchestrator` ูู `src/core/managers/TranslationOrchestrator.ts` ูุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูุชุญูู ุงูุฌุฏูุฏุฉ.

```typescript
// src/core/managers/TranslationOrchestrator.ts (ุชุญุฏูุซ)
import { TranslationEngineController } from './TranslationEngineController'; // ุฌุฏูุฏ
import { STTEngineController } from './STTEngineController'; // ุฌุฏูุฏ
// ... ุงุณุชูุฑุงุฏ ุงูุชุจุนูุงุช ุงูุฃุฎุฑู

class TranslationOrchestrator {
  // ... ุงูุฎุตุงุฆุต ุงูุฃุฎุฑู
  private translationEngineController: TranslationEngineController; // ุฌุฏูุฏ
  private sttEngineController: STTEngineController; // ุฌุฏูุฏ

  constructor(deps: any) {
    // ... ุญูู ุงูุชุจุนูุงุช ุงูุฃุฎุฑู
    this.translationEngineController = deps.translationEngineController; // ุญูู
    this.sttEngineController = deps.sttEngineController; // ุญูู
  }

  // ... startTranslation ู stopTranslation

  async handleSTTResult(sttResult: STTResult): Promise<void> {
    if (!this.isRunning) return;

    const config = this.settingsManager.getSettings();
    const request: TranslationRequest = {
      text: sttResult.text,
      sourceLang: config.sourceLang,
      targetLang: config.targetLang,
      engineId: config.defaultEngineId, // ุณูุชู ุงุณุชุจุฏุงูู ุจู SmartEngineSelector
      requestId: sttResult.requestId,
    };

    try {
      // 1. ุงุฎุชูุงุฑ ุงููุญุฑู ุงูุฐูู (SmartEngineSelector)
      // 2. ุชูููุฐ ุงูุชุฑุฌูุฉ ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู ุงูุฌุฏูุฏุฉ
      const translationResult = await this.translationEngineController.translate(request);
      // 3. ุฅุฑุณุงู ุงููุชูุฌุฉ ููุนุฑุถ (MessageBroker)
    } catch (error) {
      // 4. ูุนุงูุฌุฉ ุงูุฎุทุฃ (ErrorManager)
    }
  }

  async handleAudioChunk(audioSegment: AudioSegment): Promise<void> {
    // 1. ุชูููุฐ STT ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู ุงูุฌุฏูุฏุฉ
    const sttResult = await this.sttEngineController.processAudio(audioSegment);
    // 2. ูุนุงูุฌุฉ ุงููุชูุฌุฉ
    this.handleSTTResult(sttResult);
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู `TranslationOrchestrator` ูุณุชุฎุฏู ุงูุจููุฉ ุงูุฌุฏูุฏุฉ ูุชุนุฏุฏุฉ ุงููุญุฑูุงุชุ ููุง ูุฌุนูู ุฃูุซุฑ ูุฑููุฉ ููุงุจููุฉ ููุชูุณุน.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ูุชู ุงุณุชุฏุนุงุก `handleAudioChunk` ุนูุฏ ูุตูู ููุทุน ุตูุชู ุฌุฏูุฏุ ููุชู ุชูุฑูุฑู ุฅูู `sttEngineController`.
*   **ุญุงูุฉ 2:** ูุชู ุงุณุชุฏุนุงุก `translationEngineController.translate` ูุชูููุฐ ุงูุชุฑุฌูุฉุ ููุง ูุถูู ุชุทุจูู ููุทู ุงูุชุฎุฒูู ุงููุคูุช ูุงุฎุชูุงุฑ ุงููุญุฑู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู.md
**ุงูุชุจุนูุงุช:** 10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฐ ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฑุณุงุฆู (`MessageBroker`) ุงูุชู ุชูุน ูู `Service Worker` ู `Content Script`ุ ููู ูุณุคููุฉ ุนู ุงูุชูุณูู ูุงูุชูุงุตู ุจูู ููููุงุช ุงูุฅุถุงูุฉ ุงููุฎุชููุฉ (Service Worker, Content Script, Popup, Options).

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/04-ุชูููุฐ-ูุธุงู-ุงูุฑุณุงุฆู-ูุงูุฃุญุฏุงุซ.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/04-ุชูููุฐ-ูุธุงู-ุงูุฑุณุงุฆู-ูุงูุฃุญุฏุงุซ.md` - ุงูุชูููุฐ ุงูุฃููู ูู `MessageBroker`.

### ุงููููุงุช ุงููุงุญูุฉ  
- `12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช.md` - ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงููุญุฏุฉ ูุฅุฑุณุงู ุชุญุฏูุซุงุช ุงูุฅุนุฏุงุฏุงุช.
- `13-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃูุงู.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชูููุฐ `MessageBroker`
**ุงููุตู:** ุฅูุดุงุก ูุฆุฉ `MessageBroker` ูู `src/core/services/MessageBroker.ts` ูุชุบููู ูุธุงุฆู ุงููุฑุงุณูุฉ.

```typescript
// src/core/services/MessageBroker.ts
import { MessageType, Message } from '../../types/messages'; // ุงูุชุฑุงุถ ูุฌูุฏู

class MessageBroker {
  private listeners: Map<MessageType, Function[]> = new Map();

  // ููุงุณุชุฎุฏุงู ูู Service Worker ู Content Script
  constructor() {
    // ุงูุงุณุชูุงุน ูุฑุณุงุฆู chrome.runtime.onMessage
    chrome.runtime.onMessage.addListener(this.handleMessage);
  }

  // ููุงุณุชุฎุฏุงู ูู ุฌููุน ุงูููููุงุช
  static sendMessage(type: MessageType, payload: any, tabId?: number): void {
    const message: Message = { type, payload };
    if (tabId) {
      // ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู ุนูุงูุฉ ุชุจููุจ ูุญุฏุฏุฉ (Content Script)
      chrome.tabs.sendMessage(tabId, message);
    } else {
      // ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู Service Worker ุฃู Popup/Options
      chrome.runtime.sendMessage(message);
    }
  }

  // ููุงุณุชุฎุฏุงู ูู Service Worker ู Content Script
  on(type: MessageType, callback: Function): void {
    if (!this.listeners.has(type)) {
      this.listeners.set(type, []);
    }
    this.listeners.get(type)?.push(callback);
  }

  private handleMessage = (message: Message, sender: chrome.runtime.MessageSender, sendResponse: Function) => {
    const callbacks = this.listeners.get(message.type);
    if (callbacks) {
      callbacks.forEach(callback => callback(message.payload, sender, sendResponse));
      return true; // ููุฅุดุงุฑุฉ ุฅูู ุฃู sendResponse ุณูุชู ุงุณุชุฏุนุงุคูุง ูุงุญููุง
    }
  };
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู `MessageBroker` ุงุชุตุงูุงู ุบูุฑ ูุชุฒุงูู ูููุซูููุง ุจูู ุฃุฌุฒุงุก ุงูุฅุถุงูุฉ ุงููุฎุชููุฉุ ููุง ูุฏุนู ูุชุทูุจ ุงูุฃุฏุงุก (NFR1.0) ุนู ุทุฑูู ุชุฌูุจ ุงูุงุชุตุงู ุงููุจุงุดุฑ.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `VideoController` (ูู Content Script) ูุฑุณู `MessageBroker.sendMessage('VIDEO_PLAY', { tabId: ... })` ุฅูู Service Worker.
*   **ุญุงูุฉ 2:** `SettingsManager` (ูู Service Worker) ูุฑุณู `MessageBroker.sendMessage('SETTINGS_UPDATED', newSettings)` ุฅูู ุฌููุน ุงูููููุงุช.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช.md
**ุงูุชุจุนูุงุช:** 11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช (`SettingsManager`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ `MessageBroker` ู `SecurityManager` ุจุดูู ุตุญูุญ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/06-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุฅุนุฏุงุฏุงุช.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/06-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุฅุนุฏุงุฏุงุช.md` - ุงูุชูููุฐ ุงูุฃููู ูู `SettingsManager`.
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/07-ุชูููุฐ-ูุญุฏุฉ-ุงูุฃูุงู-ูุงูุฎุตูุตูุฉ.md` - ูุชุดููุฑ ููุงุชูุญ API.
- `11-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฑุณุงุฆู.md` - ูุฅุฑุณุงู ุชุญุฏูุซุงุช ุงูุฅุนุฏุงุฏุงุช.

### ุงููููุงุช ุงููุงุญูุฉ  
- `13-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃูุงู.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `14-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูููุงุฑุฏ.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `SettingsManager`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `SettingsManager` ูู `src/core/managers/SettingsManager.ts` ูุถูุงู ุงูุชุดููุฑ ูุจู ุงูุญูุธ ูุงูุฅุจูุงุบ ุนู ุงูุชุบููุฑุงุช.

```typescript
// src/core/managers/SettingsManager.ts (ุชุญุฏูุซ)
import { StorageManager } from './StorageManager';
import { SecurityManager } from './SecurityManager';
import { MessageBroker } from '../services/MessageBroker'; // ุฌุฏูุฏ
import { AppConfig } from '../../types/common';

class SettingsManager {
  private storageManager: StorageManager;
  private securityManager: SecurityManager;
  private currentConfig: AppConfig;

  constructor(storageManager: StorageManager, securityManager: SecurityManager) {
    this.storageManager = storageManager;
    this.securityManager = securityManager;
    this.currentConfig = this.getDefaultConfig();
  }

  async loadSettings(): Promise<void> {
    const encryptedConfig = await this.storageManager.getSettings();
    // 1. ูู ุชุดููุฑ ููุงุชูุญ API ุจุนุฏ ุงูุชุญููู
    this.currentConfig = await this.securityManager.decryptApiKeys(encryptedConfig);
  }

  async saveSettings(newConfig: AppConfig): Promise<void> {
    // 1. ุชุดููุฑ ููุงุชูุญ API ูุจู ุงูุญูุธ
    const encryptedConfig = await this.securityManager.encryptApiKeys(newConfig);
    await this.storageManager.saveSettings(encryptedConfig);
    
    this.currentConfig = newConfig;
    
    // 2. ุฅุฑุณุงู ุฅุดุนุงุฑ ุจุงูุชุญุฏูุซ ุนุจุฑ MessageBroker
    MessageBroker.sendMessage('SETTINGS_UPDATED', newConfig);
  }

  getSettings(): AppConfig {
    return this.currentConfig;
  }
  
  // ... getDefaultConfig
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ุงูุฅุนุฏุงุฏุงุชุ ูุฎุงุตุฉ ููุงุชูุญ APIุ ูุชู ุงูุชุนุงูู ูุนูุง ุจุฃูุงู ูุชุดููุฑุ ูุฃู ุฃู ุชุบููุฑ ูู ุงูุฅุนุฏุงุฏุงุช ูุชู ุฅุจูุงุบู ูุฌููุน ููููุงุช ุงููุธุงู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ุงููุณุชุฎุฏู ูุบูุฑ ููุชุงุญ API ูู ุตูุญุฉ ุงูุฎูุงุฑุงุชุ ููุชู ุชุดููุฑู ูุญูุธูุ ุซู ูุชู ุฅุฑุณุงู ุฑุณุงูุฉ `SETTINGS_UPDATED`.
*   **ุญุงูุฉ 2:** `TranslationOrchestrator` ูุณุชุฏุนู `getSettings()` ููุญุตูู ุนูู ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ ุบูุฑ ุงููุดูุฑุฉ.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 13-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃูุงู

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/13-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃูุงู.md
**ุงูุชุจุนูุงุช:** 12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ (`SecurityManager`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ูุธุงุฆู ุชุดููุฑ ููู ุชุดููุฑ ุงูุฅุนุฏุงุฏุงุช ุจุดูู ุตุฑูุญ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/07-ุชูููุฐ-ูุญุฏุฉ-ุงูุฃูุงู-ูุงูุฎุตูุตูุฉ.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/07-ุชูููุฐ-ูุญุฏุฉ-ุงูุฃูุงู-ูุงูุฎุตูุตูุฉ.md` - ุงูุชูููุฐ ุงูุฃููู ูู `SecurityManager`.
- `12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุนุฏุงุฏุงุช.md` - ูุณุชุฎุฏู ูุฐู ุงููุญุฏุฉ ูุชุดููุฑ ุงูุฅุนุฏุงุฏุงุช.

### ุงููููุงุช ุงููุงุญูุฉ  
- `14-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูููุงุฑุฏ.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `SecurityManager`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `SecurityManager` ูู `src/core/managers/SecurityManager.ts` ูุฅุถุงูุฉ ุฏูุงู ูุณุงุนุฏุฉ ูุชุดููุฑ ููู ุชุดููุฑ ูุงุฆู ุงูุฅุนุฏุงุฏุงุช ุจุงููุงูู.

```typescript
// src/core/managers/SecurityManager.ts (ุชุญุฏูุซ)
// ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ ููุชุดููุฑ/ูู ุงูุชุดููุฑ)

class SecurityManager {
  // ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

  async encryptApiKeys(config: AppConfig): Promise<AppConfig> {
    const encryptedConfig = { ...config };
    // 1. ุชุดููุฑ ููุงุชูุญ API ูู ูุงุฆู ุงูุฅุนุฏุงุฏุงุช
    if (config.apiKeys.google) {
      encryptedConfig.apiKeys.google = await this.encrypt(config.apiKeys.google);
    }
    if (config.apiKeys.deepl) {
      encryptedConfig.apiKeys.deepl = await this.encrypt(config.apiKeys.deepl);
    }
    // ... ุชุดููุฑ ููุงุชูุญ API ุงูุฃุฎุฑู
    return encryptedConfig;
  }

  async decryptApiKeys(encryptedConfig: AppConfig): Promise<AppConfig> {
    const decryptedConfig = { ...encryptedConfig };
    // 1. ูู ุชุดููุฑ ููุงุชูุญ API ูู ูุงุฆู ุงูุฅุนุฏุงุฏุงุช
    if (encryptedConfig.apiKeys.google) {
      decryptedConfig.apiKeys.google = await this.decrypt(encryptedConfig.apiKeys.google);
    }
    if (encryptedConfig.apiKeys.deepl) {
      decryptedConfig.apiKeys.deepl = await this.decrypt(encryptedConfig.apiKeys.deepl);
    }
    // ... ูู ุชุดููุฑ ููุงุชูุญ API ุงูุฃุฎุฑู
    return decryptedConfig;
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ุนูููุฉ ุชุดููุฑ ููู ุชุดููุฑ ููุงุชูุญ API ุชุชู ุจุดูู ูุฑูุฒู ูุขููุ ููุง ูุนุฒุฒ ูุชุทูุจ ุงูุฃูุงู (NFR3.0).

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `SettingsManager` ูุณุชุฏุนู `encryptApiKeys` ูุจู ุญูุธ ุงูุฅุนุฏุงุฏุงุช.
*   **ุญุงูุฉ 2:** `SettingsManager` ูุณุชุฏุนู `decryptApiKeys` ุจุนุฏ ุชุญููู ุงูุฅุนุฏุงุฏุงุช.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 14-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูููุงุฑุฏ

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/14-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูููุงุฑุฏ.md
**ุงูุชุจุนูุงุช:** 13-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃูุงู.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ (`ResourceManager`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ูุธุงุฆู ุชุญููู ุงูููุงุฑุฏ ุงููุทููุจุฉ ูููุญููุงุช ุงููุญููุฉ (ูุซู ููุงุฐุฌ WASM).

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `13-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃูุงู.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/08-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูููุงุฑุฏ.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/08-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูููุงุฑุฏ.md` - ุงูุชูููุฐ ุงูุฃููู ูู `ResourceManager`.
- `06-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฑุฌูุฉ-ุฏูู-ุงุชุตุงู.md` - ูุณุชุฎุฏู ูุฐู ุงููุญุฏุฉ ูุชุญููู ูููุฐุฌ ุงูุชุฑุฌูุฉ.
- `07-ุชูููุฐ-ูุญูู-ูุญูู-ูู-STT-ุฏูู-ุงุชุตุงู.md` - ูุณุชุฎุฏู ูุฐู ุงููุญุฏุฉ ูุชุญููู ูููุฐุฌ STT.

### ุงููููุงุช ุงููุงุญูุฉ  
- `15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `16-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุณุฌูู.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `ResourceManager`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `ResourceManager` ูู `src/core/managers/ResourceManager.ts` ูุถูุงู ุงูุชุนุงูู ูุน ุชุญููู ูููุงุช WASM ูุงูุจูุงูุงุช ุงูุซูุงุฆูุฉ.

```typescript
// src/core/managers/ResourceManager.ts (ุชุญุฏูุซ)
// ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

class ResourceManager {
  // ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

  async loadResource(resourcePath: string, type: 'text' | 'arraybuffer' = 'text'): Promise<any> {
    const cacheKey = resourcePath;
    // 1. ุงูุชุญูู ูู ูุฌูุฏ ุงูููุฑุฏ ูู Cache
    const cachedResponse = await this.cache.match(cacheKey);
    if (cachedResponse) {
      return type === 'text' ? cachedResponse.text() : cachedResponse.arrayBuffer();
    }

    // 2. ุฅุฐุง ูู ููุฌุฏุ ุชุญูููู ุจุงุณุชุฎุฏุงู fetch
    const response = await fetch(resourcePath);
    if (!response.ok) {
      throw new Error(`Failed to load resource: ${resourcePath}`);
    }

    // 3. ุชุฎุฒููู ูู Cache
    const clonedResponse = response.clone();
    await this.cache.put(cacheKey, clonedResponse);

    // 4. ุฅุฑุฌุงุน ุงููุญุชูู ุจุงูุตูุบุฉ ุงููุทููุจุฉ
    return type === 'text' ? response.text() : response.arrayBuffer();
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู `ResourceManager` ููููู ุงูุชุนุงูู ูุน ุฌููุน ุฃููุงุน ุงูููุงุฑุฏ ุงููุทููุจุฉ ูุชุดุบูู ุงููุญููุงุช ุงููุญููุฉุ ููุง ูุฏุนู ูุชุทูุจ ุงูุชุฑุฌูุฉ ุฏูู ุงุชุตุงู (FR3.0).

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `OfflineTranslationAdapter` ูุณุชุฏุนู `loadResource('model.wasm', 'arraybuffer')` ูุชุญููู ูููุฐุฌ ุงูุชุฑุฌูุฉ.
*   **ุญุงูุฉ 2:** `OfflineSTTAdapter` ูุณุชุฏุนู `loadResource('whisper.wasm', 'arraybuffer')` ูุชุญููู ูููุฐุฌ STT.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก.md
**ุงูุชุจุนูุงุช:** 14-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูููุงุฑุฏ.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก (`ErrorManager`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ุฃููุงุน ุงูุฃุฎุทุงุก ุงูุฌุฏูุฏุฉ ุงููุชุนููุฉ ุจูุญุฑูุงุช ุงูุชุฑุฌูุฉ ู STT.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `14-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูููุงุฑุฏ.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/09-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุฃุฎุทุงุก.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/09-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุฃุฎุทุงุก.md` - ุงูุชูููุฐ ุงูุฃููู ูู `ErrorManager`.
- `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` - ูููู ุฃู ุชุทูู ุฃุฎุทุงุก ูุญุฑู ุงูุชุฑุฌูุฉ.
- `09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md` - ูููู ุฃู ุชุทูู ุฃุฎุทุงุก ูุญุฑู STT.

### ุงููููุงุช ุงููุงุญูุฉ  
- `16-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุณุฌูู.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ ุงูุงุณุชุซูุงุกุงุช ุงููุฎุตุตุฉ
**ุงููุตู:** ุฅุถุงูุฉ ูุฆุงุช ุงุณุชุซูุงุกุงุช ุฌุฏูุฏุฉ ูู `src/types/exceptions.ts` ูุชุบุทูุฉ ุงูุฃุฎุทุงุก ุงูุฎุงุตุฉ ุจุงููุญุฑูุงุช.

```typescript
// src/types/exceptions.ts (ุชุญุฏูุซ)
// ... (ุงูุงุณุชุซูุงุกุงุช ุงูุณุงุจูุฉ)

export class TranslationEngineError extends BaseAppError {
  constructor(message: string, public engineId: string) {
    super(`Translation Engine (${engineId}) Error: ${message}`, 503);
  }
}

export class STTEngineError extends BaseAppError {
  constructor(message: string, public engineId: string) {
    super(`STT Engine (${engineId}) Error: ${message}`, 503);
  }
}

export class RateLimitError extends TranslationEngineError {
  constructor(engineId: string) {
    super(`Rate limit exceeded for engine ${engineId}.`, engineId);
    this.code = 429;
  }
}
```

### 2. ุชุญุฏูุซ `ErrorManager`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `ErrorManager` ูู `src/core/managers/ErrorManager.ts` ููุชุนุฑู ุนูู ูุฐู ุงูุฃุฎุทุงุก ุงูุฌุฏูุฏุฉ ููุนุงูุฌุชูุง.

```typescript
// src/core/managers/ErrorManager.ts (ุชุญุฏูุซ)
import { BaseAppError, RateLimitError } from '../../types/exceptions';

class ErrorManager {
  handleError(error: Error): void {
    if (error instanceof RateLimitError) {
      // 1. ุชุณุฌูู ุงูุฎุทุฃ (Logging Unit)
      // 2. ุฅุจูุงุบ ุงููุณุชุฎุฏู (Notification Unit)
      // 3. ุฅุจูุงุบ SmartEngineSelector ููุชุจุฏูู ุฅูู ูุญุฑู ุขุฎุฑ
    } else if (error instanceof BaseAppError) {
      // ... ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุฃุณุงุณูุฉ
    } else {
      // ... ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงููุธุงู
    }
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ุงููุธุงู ููููู ุงูุชุนุงูู ุจุฐูุงุก ูุน ุงูุฃุฎุทุงุก ุงูุฎุงุตุฉ ุจุงููุญุฑูุงุชุ ูุซู ุชุฌุงูุฒ ุญุฏ ุงููุนุฏูุ ููุง ูุณูุญ ุจุขููุฉ ุชุจุฏูู ุณูุณุฉ ูููุญุฑูุงุช.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `GoogleTranslateAdapter` ูุทูู `new RateLimitError('google')`ุ ููููู `ErrorManager` ุจูุนุงูุฌุชู.
*   **ุญุงูุฉ 2:** ูุชู ุชุณุฌูู ุฎุทุฃ `STTEngineError` ูู `Logging Unit`ุ ููุชู ุฅุจูุงุบ ุงููุณุชุฎุฏู ุจู ุนุจุฑ `Notification Unit`.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 16-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุณุฌูู

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/16-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุณุฌูู.md
**ุงูุชุจุนูุงุช:** 15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุงูุชุณุฌูู ูุงููุฑุงูุจุฉ (`Logging Unit`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ุชุณุฌูู ููุงููุณ ุงูุฃุฏุงุก ุงูุฎุงุตุฉ ุจูุญุฑูุงุช ุงูุชุฑุฌูุฉ ู STT.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุณุฌูู-ูุงููุฑุงูุจุฉ.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุณุฌูู-ูุงููุฑุงูุจุฉ.md` - ุงูุชูููุฐ ุงูุฃููู ูู `Logger`.
- `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` - ูููุฑ ููุงููุณ ุงูุฃุฏุงุก (Latency).
- `09-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-STT.md` - ูููุฑ ููุงููุณ ุงูุฃุฏุงุก (Latency).

### ุงููููุงุช ุงููุงุญูุฉ  
- `17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ูุธุงู-ุงูุฎุจุฑุงุก.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `Logger`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `Logger` ูู `src/core/services/Logger.ts` ูุฅุถุงูุฉ ุฏุงูุฉ ูุณุงุนุฏุฉ ูุชุณุฌูู ููุงููุณ ุงูุฃุฏุงุก.

```typescript
// src/core/services/Logger.ts (ุชุญุฏูุซ)
// ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

class Logger {
  // ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

  logPerformance(type: 'TRANSLATION' | 'STT', engineId: string, latency: number, details?: any): void {
    const message = `${type} Performance: Engine ${engineId} took ${latency}ms.`;
    this.log('INFO', message, { engineId, latency, ...details });
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ูุชู ุชุณุฌูู ุฃุฏุงุก ูู ูุญุฑู ุชุฑุฌูุฉ ู STT ุจุดูู ูููุฌูุ ููุง ูููุฑ ุงูุจูุงูุงุช ุงููุงุฒูุฉ ูู `SmartEngineSelector` ูุงุชุฎุงุฐ ูุฑุงุฑุงุช ูุณุชููุฑุฉ.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `TranslationEngineController` ูุณุชุฏุนู `Logger.logPerformance('TRANSLATION', result.engineId, result.latency)` ุจุนุฏ ุงูุญุตูู ุนูู ูุชูุฌุฉ ุงูุชุฑุฌูุฉ.
*   **ุญุงูุฉ 2:** `STTEngineController` ูุณุชุฏุนู `Logger.logPerformance('STT', result.engineId, result.latency)` ุจุนุฏ ุงูุญุตูู ุนูู ูุชูุฌุฉ STT.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช.md
**ุงูุชุจุนูุงุช:** 16-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุณุฌูู.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช (`NotificationManager`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ุฅุดุนุงุฑุงุช ุฎุงุตุฉ ุจุฃุฎุทุงุก ุงููุญุฑูุงุช.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `16-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุณุฌูู.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/11-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุฅุดุนุงุฑุงุช.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/11-ุชูููุฐ-ูุญุฏุฉ-ุฅุฏุงุฑุฉ-ุงูุฅุดุนุงุฑุงุช.md` - ุงูุชูููุฐ ุงูุฃููู ูู `NotificationManager`.
- `15-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฃุฎุทุงุก.md` - ูุทูู ุฃุฎุทุงุก ุงููุญุฑูุงุช.

### ุงููููุงุช ุงููุงุญูุฉ  
- `18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ูุธุงู-ุงูุฎุจุฑุงุก.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `NotificationManager`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `NotificationManager` ูู `src/core/managers/NotificationManager.ts` ูุฅุถุงูุฉ ุฏุงูุฉ ูุณุงุนุฏุฉ ูุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุฎุงุตุฉ ุจุฃุฎุทุงุก ุงููุญุฑูุงุช.

```typescript
// src/core/managers/NotificationManager.ts (ุชุญุฏูุซ)
// ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

class NotificationManager {
  // ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

  sendEngineErrorNotification(engineId: string, error: Error): void {
    const title = `ุฎุทุฃ ูู ูุญุฑู ${engineId}`;
    let message = `ูุดู ุงููุญุฑู ูู ุฅููุงู ุงูุนูููุฉ: ${error.message}`;

    if (error instanceof RateLimitError) {
      message = `ุชู ุชุฌุงูุฒ ุญุฏ ุงููุนุฏู ูููุญุฑู ${engineId}. ุณูุชู ุงูุชุจุฏูู ุฅูู ูุญุฑู ุขุฎุฑ.`;
    }

    this.sendNotification('CRITICAL', title, message);
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ุงููุณุชุฎุฏู ูุชู ุฅุจูุงุบู ุจูุถูุญ ุนูุฏ ูุดู ูุญุฑู ุชุฑุฌูุฉ ุฃู STTุ ููุง ูููู ูู ุงูุงุฑุชุจุงู ููููุฑ ูุนูููุงุช ูููุฏุฉ.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `ErrorManager` ูุณุชุฏุนู `NotificationManager.sendEngineErrorNotification('google', error)` ุนูุฏ ูููุน ุฎุทุฃ ูู ูุญุฑู Google.
*   **ุญุงูุฉ 2:** ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุฎุงุต ุจุชุฌุงูุฒ ุญุฏ ุงููุนุฏู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ูุธุงู-ุงูุฎุจุฑุงุก

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ูุธุงู-ุงูุฎุจุฑุงุก.md
**ุงูุชุจุนูุงุช:** 17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ูุธุงู ุงูุฎุจุฑุงุก (`ExpertSystemUnit`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ููุทู ุงุฎุชูุงุฑ ุงููุญุฑู ุงูุฐูู.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/19-ุชูููุฐ-ูุญุฏุฉ-ูุธุงู-ุงูุฎุจุฑุงุก.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/19-ุชูููุฐ-ูุญุฏุฉ-ูุธุงู-ุงูุฎุจุฑุงุก.md` - ุงูุชูููุฐ ุงูุฃููู ูู `ExpertSystemUnit`.
- `08-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุญุฑูุงุช.md` - ูุณุชุฎุฏู ูุฐู ุงููุญุฏุฉ ูุงุฎุชูุงุฑ ุงููุญุฑู.

### ุงููููุงุช ุงููุงุญูุฉ  
- `19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ.md` - ูุง ููุฌุฏ ุงุฑุชุจุงุท ูุจุงุดุฑ.
- `DELIVERABLES_PHASE4.md` - ูุชุญุฏูุฏ ุชุณูููุงุช ุงููุฑุญูุฉ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `ExpertSystemUnit`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `ExpertSystemUnit` ูู `src/core/services/ExpertSystemUnit.ts` ูุฅุถุงูุฉ ุฏุงูุฉ `selectEngine` ุงูุชู ุชุณุชุฎุฏู ููุงุนุฏ ุงูุฎุจุฑุงุก.

```typescript
// src/core/services/ExpertSystemUnit.ts (ุชุญุฏูุซ)
// ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

class ExpertSystemUnit {
  // ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

  async selectEngine(availableEngines: string[], sourceLang: LanguageCode, targetLang: LanguageCode): Promise<string | null> {
    // 1. ุชุทุจูู ููุงุนุฏ ุงูุฃููููุฉ ุจูุงุกู ุนูู ุงููุบุฉ
    if (sourceLang === 'ar' && targetLang === 'en' && availableEngines.includes('deepl')) {
      return 'deepl'; // DeepL ุฃูุถู ููุชุฑุฌูุฉ ูู ุงูุนุฑุจูุฉ ุฅูู ุงูุฅูุฌููุฒูุฉ
    }

    // 2. ุชุทุจูู ููุงุนุฏ ุงูุฃููููุฉ ุจูุงุกู ุนูู ุงูุชูููุฉ (ุฅุฐุง ูุงูุช ุงูุฅุนุฏุงุฏุงุช ุชูุถู ุงูุชูููุฉ ุงูููุฎูุถุฉ)
    // ...

    // 3. ุชุทุจูู ููุงุนุฏ ุงูุฃููููุฉ ุจูุงุกู ุนูู ุงูุฃุฏุงุก (ุฅุฐุง ูุงูุช ุงูุฅุนุฏุงุฏุงุช ุชูุถู ุงูุฃุฏุงุก ุงูุนุงูู)
    // ...

    return null; // ูุง ููุฌุฏ ูุญุฑู ููุถู ุจูุงุกู ุนูู ููุงุนุฏ ุงูุฎุจุฑุงุก
  }
}
```

### 2. ุชุญุฏูุซ `TranslationEngineController`
**ุงููุตู:** ุชุญุฏูุซ `TranslationEngineController` ูุงุณุชุฎุฏุงู `ExpertSystemUnit.selectEngine` ูุจู ุงุฎุชูุงุฑ ุงููุญุฑู ุงูุงูุชุฑุงุถู.

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ูุชู ุงุณุชุฎุฏุงู ูุธุงู ุงูุฎุจุฑุงุก ูุงุฎุชูุงุฑ ุงููุญุฑู ุงูุฃูุซูุ ููุง ูุญุณู ูู ุฌูุฏุฉ ุงูุชุฑุฌูุฉ ููููู ูู ุงูุชูุงููู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ูุชู ุงุณุชุฏุนุงุก `selectEngine`ุ ููุชู ุงุฎุชูุงุฑ DeepL ููุชุฑุฌูุฉ ูู ุงูุนุฑุจูุฉ ุฅูู ุงูุฅูุฌููุฒูุฉ.
*   **ุญุงูุฉ 2:** ูุง ูุชู ุงุฎุชูุงุฑ ุฃู ูุญุฑูุ ููุชู ุงูุนูุฏุฉ ุฅูู ุงููุญุฑู ุงูุงูุชุฑุงุถู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# 19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ

<!-- Metadata -->
**ุงูููุน:** ุชูููุฐ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ.md
**ุงูุชุจุนูุงุช:** 18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ูุธุงู-ุงูุฎุจุฑุงุก.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุซ ูุญุฏุฉ ุงูุชูุงูู ูุน ุงููุชุตูุญ (`BrowserManager`) ุงูุชู ุชู ุชูููุฐูุง ูู ุงููุฑุญูุฉ 3ุ ูุฏูุฌ ูุธุงุฆู ุชุญุฏูุซ ุฃููููุฉ ุงูุฅุถุงูุฉ ุจูุงุกู ุนูู ุญุงูุฉ ุงููุญุฑูุงุช.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `18-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ูุธุงู-ุงูุฎุจุฑุงุก.md` (ููุชุณูุณู)ุ ู `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชูุงูู-ูุน-ุงููุชุตูุญ.md` ุงูุฐู ูุญุชูู ุนูู ุงูุชูููุฐ ุงูุฃููู.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ุงููุฑุญูุฉ-3-ุงูููุงุฉ-ุงูุฃุณุงุณูุฉ/12-ุชูููุฐ-ูุญุฏุฉ-ุงูุชูุงูู-ูุน-ุงููุชุตูุญ.md` - ุงูุชูููุฐ ุงูุฃููู ูู `BrowserManager`.
- `17-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุฅุดุนุงุฑุงุช.md` - ูููู ุฃู ุชุทูู ุฃุฎุทุงุก ุงููุญุฑูุงุช.

### ุงููููุงุช ุงููุงุญูุฉ  
- `DELIVERABLES_PHASE4.md` - ูุชุญุฏูุฏ ุชุณูููุงุช ุงููุฑุญูุฉ.
- `ACCEPTANCE_CRITERIA_PHASE4.md` - ูุชุญุฏูุฏ ูุนุงููุฑ ุงููุจูู.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุชุญุฏูุซ `BrowserManager`
**ุงููุตู:** ุชุนุฏูู ูุฆุฉ `BrowserManager` ูู `src/core/managers/BrowserManager.ts` ูุฅุถุงูุฉ ุฏุงูุฉ `updateIconForEngineStatus` ุงูุชู ุชุนูุณ ุญุงูุฉ ุงููุญุฑูุงุช.

```typescript
// src/core/managers/BrowserManager.ts (ุชุญุฏูุซ)
// ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

class BrowserManager {
  // ... (ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงูุฃุณุงุณูุฉ)

  updateIconForEngineStatus(engineId: string, status: 'ok' | 'rate_limit' | 'error'): void {
    let iconState: 'active' | 'inactive' | 'error' = 'inactive';

    if (status === 'rate_limit' || status === 'error') {
      iconState = 'error';
    } else if (status === 'ok') {
      iconState = 'active';
    }

    this.updateIcon(iconState);
  }
}
```

## โ๏ธ ุขููุฉ ุงูุนูู
ูุถูู ูุฐุง ุงูุชุญุฏูุซ ุฃู ุงููุณุชุฎุฏู ูุชู ุฅุจูุงุบู ุจุตุฑููุง ุจุญุงูุฉ ุงููุญุฑูุงุชุ ููุง ูุนุฒุฒ ูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** `ErrorManager` ูุณุชุฏุนู `BrowserManager.updateIconForEngineStatus('google', 'rate_limit')` ุนูุฏ ุชุฌุงูุฒ ุญุฏ ุงููุนุฏู.
*   **ุญุงูุฉ 2:** `TranslationOrchestrator` ูุณุชุฏุนู `BrowserManager.updateIconForEngineStatus('google', 'ok')` ุนูุฏ ุจุฏุก ุงูุชุฑุฌูุฉ ุจูุฌุงุญ.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# ACCEPTANCE_CRITERIA_PHASE4

<!-- Metadata -->
**ุงูููุน:** ูุนุงููุฑ ูุจูู
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/ACCEPTANCE_CRITERIA_PHASE4.md
**ุงูุชุจุนูุงุช:** DELIVERABLES_PHASE4.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุฏ ุงููุนุงููุฑ ุงูููุถูุนูุฉ ุงูุชู ูุฌุจ ุงุณุชููุงุคูุง ููุจูู ุชุณูููุงุช ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ ูุงูููุงููุฉ ุนูู ุงูุงูุชูุงู ุฅูู ุงููุฑุญูุฉ ุงูุฎุงูุณุฉ (ูุธุงู ุงูุชุนุฑู ุนูู ุงูููุงู STT).

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `DELIVERABLES_PHASE4.md` ูุชุญุฏูุฏ ุงูุชุณูููุงุช ุงูุชู ุณูุชู ุชูููููุง.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `DELIVERABLES_PHASE4.md` - ูุชุญุฏูุฏ ุงูุชุณูููุงุช ุงูุชู ุณูุชู ุชูููููุง.

### ุงููููุงุช ุงููุงุญูุฉ  
- `SUCCESS_METRICS_PHASE4.md` - ูุชุญุฏูุฏ ููุงููุณ ุงููุฌุงุญ ุงูุชู ุณูุชู ููุงุณูุง.
- `ุงููุฑุญูุฉ-5-ูุธุงู-ุงูุชุนุฑู-ุนูู-ุงูููุงู/01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-STT.md` (ุงููุฑุญูุฉ 5) - ูุชู ุงูุจุฏุก ูู ูุฐู ุงููุฑุญูุฉ ุจุนุฏ ุงุณุชููุงุก ูุนุงููุฑ ุงููุจูู.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ุงูุชูุงู ุงููุซุงุฆู (19 ููููุง)
**ุงููุตู:** ูุฌุจ ุฃู ุชููู ุฌููุน ุงููููุงุช ุงูู 19 ุงููุฐููุฑุฉ ูู `DELIVERABLES_PHASE4.md` ููุฌูุฏุฉ ูููุชููุฉ.
**ุงููุธููุฉ:** ุถูุงู ุนุฏู ูุฌูุฏ ูุซุงุฆู ุชูููุฐ ููููุฏุฉ.
**ุงูุนูุงูุงุช:** ุชุฑุชุจุท ุจู `structure_validator.py`.

### 2. ุชุทุจูู ูุงุฌูุฉ ุงููุญุฑู
**ุงููุตู:** ูุฌุจ ุฃู ูุทุจู ูู ูู `GoogleTranslateAdapter` ู `DeepLAdapter` ู `OfflineTranslationAdapter` ูุงุฌูุฉ `ITranslationEngine` ุจุดูู ุตุญูุญ.
**ุงููุธููุฉ:** ุถูุงู ุงูุชูุงูู ุงูุจุฑูุฌู ุจูู ุงููุญุฑูุงุช.
**ุงูุนูุงูุงุช:** ุชุฑุชุจุท ุจู `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md`.

### 3. ูุธููุฉ ุงูุชุฎุฒูู ุงููุคูุช
**ุงููุตู:** ูุฌุจ ุฃู ููุถุญ `CacheAdapter` ู `STTCacheAdapter` ููุทู ุงูุชุฎุฒูู ุงููุคูุช ุจุดูู ุตุญูุญุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู `StorageManager`.
**ุงููุธููุฉ:** ุถูุงู ุชูููู ุงุณุชุฏุนุงุกุงุช API ุงูุฎุงุฑุฌูุฉ.
**ุงูุนูุงูุงุช:** ุชุฑุชุจุท ุจู `04-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช.md` ู `05-ุชูููุฐ-ูุญูู-ูุญูู-ููุชุฎุฒูู-ุงููุคูุช-ูู-STT.md`.

### 4. ุชุญุฏูุซ ุงูููุงุฉ
**ุงููุตู:** ูุฌุจ ุฃู ููุถุญ `TranslationOrchestrator` ุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูุชุญูู ุงูุฌุฏูุฏุฉ (`TranslationEngineController` ู `STTEngineController`).
**ุงููุธููุฉ:** ุถูุงู ุฏูุฌ ุงูุจููุฉ ุงูุฌุฏูุฏุฉ ูู ุงูููุงุฉ.
**ุงูุนูุงูุงุช:** ุชุฑุชุจุท ุจู `10-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงูุชุฑุฌูุฉ-ุงููุฑูุฒูุฉ.md`.

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุชุญูู (structure_validator.py ู content_validator.py) ูุชูููู ุงูุชูุงู ุงููุซุงุฆู ูุงุชุณุงููุง.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ุฅุฐุง ูู ููุถุญ `DeepLAdapter` ููููุฉ ูู ุชุดููุฑ ููุชุงุญ APIุ ูุฅู ูุนูุงุฑ ุชุทุจูู ุงููุงุฌูุฉ ููุดู.
*   **ุญุงูุฉ 2:** ุฅุฐุง ูู ูุดุฑ `TranslationEngineController` ุฅูู `CacheAdapter`ุ ูุฅู ูุนูุงุฑ ูุธููุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุดู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# DELIVERABLES_PHASE4

<!-- Metadata -->
**ุงูููุน:** ุชุณูููุงุช
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/DELIVERABLES_PHASE4.md
**ุงูุชุจุนูุงุช:** 19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุฏ ูุงุฆูุฉ ูุงุถุญุฉ ูููุตูุฉ ุจุงูููุชุฌุงุช ุงูููุงุฆูุฉ (Deliverables) ุงูุชู ูุฌุจ ุชุณููููุง ุนูุฏ ุงูุงูุชูุงุก ูู ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ (ูุธุงู ุงูุชุฑุฌูุฉ ูุชุนุฏุฏ ุงููุญุฑูุงุช).

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ุฌููุน ูููุงุช ุงูุชูููุฐ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูุฐู ุงููุฑุญูุฉ (19 ููููุง).

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ.md` - ุขุฎุฑ ููู ุชูููุฐู ุชู ุฅูุดุงุคู.

### ุงููููุงุช ุงููุงุญูุฉ  
- `ACCEPTANCE_CRITERIA_PHASE4.md` - ูุชุญุฏูุฏ ูุนุงููุฑ ูุจูู ูุฐู ุงูุชุณูููุงุช.
- `SUCCESS_METRICS_PHASE4.md` - ูุชุญุฏูุฏ ููุงููุณ ุงููุฌุงุญ.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ูุซุงุฆู ุงูุชูููุฐ (19 ููููุง)
**ุงููุตู:** ูุฌููุนุฉ ูุงููุฉ ูู ูุซุงุฆู ุงูุชูููุฐ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูุฐู ุงููุฑุญูุฉ.
**ุงููุธููุฉ:** ุชูููุฑ ุงููุฎุทุท ุงูุชูุตููู ูุชูููุฐ ูุธุงู ุงูุชุฑุฌูุฉ ูุชุนุฏุฏ ุงููุญุฑูุงุช.
**ุงูุนูุงูุงุช:** ุชุฑุชุจุท ุจู `01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-ุงูุชุฑุฌูุฉ.md` ุญุชู `19-ุชูููุฐ-ูุญุฏุฉ-ุงูุชุญูู-ูู-ุงููุชุตูุญ.md`.

### 2. ูุธุงู ุงููุญููุงุช ุงูููุชูู
**ุงููุตู:** ุชูููุฐ ุฌููุน ูุญููุงุช ุงูุชุฑุฌูุฉ ู STT ุงููุทููุจุฉ:
*   **ูุญููุงุช ุงูุชุฑุฌูุฉ:** Google Translateุ DeepLุ Offline NMTุ Cache.
*   **ูุญููุงุช STT:** Google STT (ุงูุชุฑุงุถู)ุ Offline Whisperุ Cache.

### 3. ุชุญุฏูุซ ุงูููุงุฉ ุงูุฃุณุงุณูุฉ
**ุงููุตู:** ุชุญุฏูุซ ูุญุฏุงุช ุงูููุงุฉ ุงูุฃุณุงุณูุฉ (Orchestrator, Settings, Security, Error, Logging, Notification, Browser) ูุฏูุฌ ูุธุงู ุงููุญููุงุช ุงูุฌุฏูุฏ.

### 4. ูุงุฆูุฉ ุงูุชุญูู ูู ุงูุฌูุฏุฉ (ุงููุฑุญูุฉ 4)
**ุงููุตู:** ูุงุฆูุฉ ุงูุชุญูู ูู ุงูุฌูุฏุฉ ุงูููุชููุฉ ููุฐู ุงููุฑุญูุฉ.
**ุงููุธููุฉ:** ุงูุชุฃูุฏ ูู ุฃู ุฌููุน ุงููููุงุช ุชุชุจุน ุงูููุงูุจ ุงูููุญุฏุฉ ูุชู ุงูุชุญูู ูู ุชุฑุงุจุทูุง.
**ุงูุนูุงูุงุช:** ุชุฑุชุจุท ุจู `quality_checklist.md` (ููู ุฃุณุงุณู ูุดุชุฑู).

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุชุฌููุน ุฌููุน ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงููุฑุญูุฉ 4 ูู ูุฌูุฏ ูุงุญุฏุ ููุชู ุงูุชุญูู ูู ุงูุชูุงููุง ูุตุญุชูุง ูุจู ุงูุงูุชูุงู ุฅูู ุงููุฑุญูุฉ ุงูุชุงููุฉ.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ูุฑูู ุงูุชุทููุฑ ูุณุชุฎุฏู ูุฐู ุงููุซุงุฆู ููุฑุฌุน ูุญูุฏ ูุจุฏุก ูุชุงุจุฉ ุงูููุฏ ุงููุนูู ููุธุงู ุงููุญููุงุช.
*   **ุญุงูุฉ 2:** ูุฏูุฑ ุงููุดุฑูุน ูุณุชุฎุฏู ูุฐุง ุงูููู ููุชุญูู ูู ุฃู ุฌููุน ูุซุงุฆู ุงูุชูููุฐ ุฌุงูุฒุฉ ูุจู ุจุฏุก ูุฑุญูุฉ ุงูุงุฎุชุจุงุฑ.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
# SUCCESS_METRICS_PHASE4

<!-- Metadata -->
**ุงูููุน:** ููุงููุณ ูุฌุงุญ
**ุงููุฑุญูุฉ:** 4
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-4-ูุธุงู-ุงูุชุฑุฌูุฉ-ูุชุนุฏุฏ-ุงููุญุฑูุงุช/SUCCESS_METRICS_PHASE4.md
**ุงูุชุจุนูุงุช:** ACCEPTANCE_CRITERIA_PHASE4.md

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชุญุฏูุฏ ุงูููุงููุณ ุงููููุฉ ูุงูููุนูุฉ ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูุชูููู ูุฌุงุญ ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ (ูุธุงู ุงูุชุฑุฌูุฉ ูุชุนุฏุฏ ุงููุญุฑูุงุช).

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ููู `ACCEPTANCE_CRITERIA_PHASE4.md` ูุชุญุฏูุฏ ูุนุงููุฑ ุงููุจูู ุงูุชู ูุฌุจ ููุงุณูุง.

## ๐ ุงูุนูุงูุงุช ูุงูุชุฑุงุจุท
### ุงููููุงุช ุงูุณุงุจูุฉ
- `ACCEPTANCE_CRITERIA_PHASE4.md` - ูุชุญุฏูุฏ ูุนุงููุฑ ุงููุจูู ุงูุชู ุณูุชู ููุงุณูุง.

### ุงููููุงุช ุงููุงุญูุฉ  
- `ุงููุฑุญูุฉ-5-ูุธุงู-ุงูุชุนุฑู-ุนูู-ุงูููุงู/01-ุชูููุฐ-ูุงุฌูุฉ-ูุญุฑู-STT.md` (ุงููุฑุญูุฉ 5) - ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูููุงููุณ ูุชูููู ุฌุงูุฒูุฉ ุงููุฑุญูุฉ 5.

## ๐ ุงูุจููุฉ ุงูุชูุตูููุฉ
### 1. ููุงููุณ ุงูุฌูุฏุฉ (Quality Metrics)
| ุงููููุงุณ | ุงููุฏู | ุงููุตู |
| :--- | :--- | :--- |
| **ุงูุชูุงู ุงููุซุงุฆู** | 100% | ูุฌุจ ุฃู ุชููู ุฌููุน ุงููููุงุช ุงูู 19 ููุฌูุฏุฉ ูููุชููุฉ. |
| **ูุณุจุฉ ุงูุชุฑุงุจุท** | > 95% | ูุณุจุฉ ุงูุฑูุงุจุท ุงูุฏุงุฎููุฉ ุงูุตุญูุญุฉ ุจูู ุงููููุงุช. |
| **ุชุบุทูุฉ ุงููุญููุงุช** | 100% | ูุฌุจ ุฃู ูููู ููุงู ูุญูู ูุงุญุฏ ุนูู ุงูุฃูู ููู ููุน (ุณุญุงุจูุ ูุญููุ ุชุฎุฒูู ูุคูุช) ููู ูู ุงูุชุฑุฌูุฉ ู STT. |

### 2. ููุงููุณ ุงูููุงุกุฉ (Efficiency Metrics)
| ุงููููุงุณ | ุงููุฏู | ุงููุตู |
| :--- | :--- | :--- |
| **ุฌุงูุฒูุฉ ุงููุญููุงุช** | 100% | ูุฌุจ ุฃู ุชููู ุฌููุน ุงููุญููุงุช ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ูู ูุจู `TranslationEngineController` ู `STTEngineController`. |
| **ุชูุงูู ุงูููุงุฉ** | 100% | ูุฌุจ ุฃู ุชููู ุฌููุน ุชุญุฏูุซุงุช ุงูููุงุฉ ุงูุฃุณุงุณูุฉ (Orchestrator, Settings, Security, Error, Logging, Notification, Browser) ูุฏ ุชูุช ุจุดูู ุตุญูุญ. |

## โ๏ธ ุขููุฉ ุงูุนูู
ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูููุงููุณ ูุชูููู ุฌูุฏุฉ ุชูููุฐ ูุธุงู ุงููุญููุงุช ุงููุชุนุฏุฏุฉ ูุจู ุงูุงูุชูุงู ุฅูู ุชุทููุฑ ููุฒุงุช STT ุงููุชูุฏูุฉ.

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
*   **ุญุงูุฉ 1:** ุฅุฐุง ูุงู ููุงู ูุญูู ูุงุญุฏ ููููุฏ (ูุซู `OfflineTranslationAdapter`)ุ ูุฅู ูููุงุณ ุชุบุทูุฉ ุงููุญููุงุช ููุดู.
*   **ุญุงูุฉ 2:** ุฅุฐุง ูู ูุชู ุชุญุฏูุซ `ErrorManager` ููุชุนุงูู ูุน `RateLimitError`ุ ูุฅู ูููุงุณ ุชูุงูู ุงูููุงุฉ ููุดู.

---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
