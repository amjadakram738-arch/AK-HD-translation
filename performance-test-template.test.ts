# performance-test-template.test.ts

<!-- Metadata -->
**ุงูููุน:** ูุงูุจ ููุฏ
**ุงููุฑุญูุฉ:** 11
**ุงููุณุงุฑ:** ุงููุฑุญูุฉ-11-ุงูุงุฎุชุจุงุฑุงุช-ูุงูุฌูุฏุฉ-ุงูุดุงููุฉ/performance-test-template.test.ts
**ุงูุชุจุนูุงุช:** translation-test-template.test.ts

## ๐ฏ ุงูุบุฑุถ ูุงููุฏู
ุชูููุฑ ูุงูุจ ููุฏ ูุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก ูุงูุญูู ุจุงุณุชุฎุฏุงู ุฅุทุงุฑ ุนูู K6 (ูุชู ูุชุงุจุฉ ุงูุณููุงุฑูู ุจูุบุฉ JavaScript).

```javascript
import http from 'k6/http';
import { check, sleep } from 'k6';

// 1. ุฅุนุฏุงุฏ ุงูุฎูุงุฑุงุช (Options Setup)
export const options = {
  // ุชุญุฏูุฏ ุนุฏุฏ ุงููุณุชุฎุฏููู ุงูุงูุชุฑุงุถููู (VUs) ููุฏุฉ ุงูุงุฎุชุจุงุฑ
  stages: [
    { duration: '1m', target: 50 },  // ุฒูุงุฏุฉ ุชุฏุฑูุฌูุฉ ุฅูู 50 ูุณุชุฎุฏููุง ุฎูุงู ุฏูููุฉ
    { duration: '3m', target: 50 },  // ุงูุญูุงุธ ุนูู 50 ูุณุชุฎุฏููุง ููุฏุฉ 3 ุฏูุงุฆู (ุงุฎุชุจุงุฑ ุงูุญูู ุงูุนุงุฏู)
    { duration: '1m', target: 100 }, // ุฒูุงุฏุฉ ุฅูู 100 ูุณุชุฎุฏู (ุงุฎุชุจุงุฑ ุงูุญูู ุงูุฃูุตู)
    { duration: '1m', target: 0 },   // ุฅููุงุก ุชุฏุฑูุฌู
  ],
  // ุชุญุฏูุฏ ูุนุงููุฑ ุงููุฌุงุญ (Thresholds)
  thresholds: {
    // ูุฌุจ ุฃู ูููู 95% ูู ุงูุทูุจุงุช ุฃุณุฑุน ูู 500 ูููู ุซุงููุฉ
    'http_req_duration': ['p(95) < 500'], 
    // ูุฌุจ ุฃู ูููู ูุนุฏู ูุดู ุงูุทูุจุงุช ุฃูู ูู 1%
    'http_req_failed': ['rate < 0.01'], 
    // ูุฌุจ ุฃู ูููู ูุนุฏู ุงูุฅูุชุงุฌูุฉ (RPS) ุฃุนูู ูู 100
    'http_reqs': ['rate > 100'], 
  },
};

// 2. ุณููุงุฑูู ุงูุงุฎุชุจุงุฑ (Scenario)
export default function () {
  // ูุญุงูุงุฉ ุทูุจ ุชุฑุฌูุฉ ููุฑูุฉ
  const url = 'http://localhost:3000/api/v1/translate';
  const payload = JSON.stringify({
    source_lang: 'en',
    target_lang: 'ar',
    text: 'This is a sample sentence for performance testing of the real-time translation API.',
  });

  const params = {
    headers: {
      'Content-Type': 'application/json',
      // ูุฌุจ ุชุถููู ุฑูุฒ ูุตุงุฏูุฉ (Token) ุตุงูุญ ููุง
      'Authorization': 'Bearer YOUR_MOCK_TOKEN', 
    },
  };

  // ุฅุฑุณุงู ุงูุทูุจ
  const res = http.post(url, payload, params);

  // ุงูุชุญูู ูู ุฃู ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ ูู 200
  check(res, {
    'is status 200': (r) => r.status === 200,
  });

  // ุงูุชุธุงุฑ ูุชุฑุฉ ูุตูุฑุฉ ููุญุงูุงุฉ ุณููู ุงููุณุชุฎุฏู
  sleep(1); 
}
```
---
**ููุงุญุธุงุช ุงูุฌูุฏุฉ:**
- [ ] ุชู ุงูุชุญูู ูู ุงููููู
- [ ] ุชู ุงูุชุญูู ูู ุงูุฑูุงุจุท
- [ ] ุชู ูุฑุงุฌุนุฉ ุงููุญุชูู
- [ ] ุชู ุชุญููู ุงูุชุฑุงุจุท
